/*
 * Basic styling for the Leeward Point guestbook PWA.
 * Colours and fonts derive from the uploaded data file.
 */

:root {
  /* Primary and secondary colours from the data. These values will be
     replaced at runtime by script.js. */
  /* Brand colours for the refreshed design.
     Primary is used for backgrounds, secondary for text, and accent for highlights. */
  --primary-color: #ffffff;
  --secondary-color: #111111;
  --accent-color: #D4AF37;
  --font-stack: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;

  /* Background colour for cards and panels */
  --card-bg-color: #ffffff;

  /* Define standard heights for the header and bottom nav bar.  These values
     control the thickness of the gold bar at the top and the dark menu bar
     at the bottom.  By centralising them as variables we can reuse them
     throughout the stylesheet and easily adjust the UI scale on mobile. */
  /* Reduce the header and nav heights so the home screen fits on one
     mobile viewport without requiring scroll. 3.5rem offers a thicker
     visual bar than the original design while conserving space. */
  --header-height: 3.5rem;
  --nav-height: 3.5rem;

  /* Dedicated colours for the header and footer.  The header typically uses
     the accent colour for contrast, while the footer (bottom navigation)
     uses the secondary colour to anchor the UI.  */
  --header-bg-color: var(--accent-color);
  --footer-bg-color: var(--secondary-color);
  /* Use a decorative font for the header title */
  --header-font-stack: 'Playfair Display', var(--font-stack);
}

/* Import Playfair Display from Google Fonts for a stylish header */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap');

body {
  margin: 0;
  font-family: var(--font-stack);
  background: #ffffff;
  color: var(--secondary-color);
}

/* Hero banner for the home page */
.hero {
  position: relative;
  width: 100%;
  /* Make the hero fill the available viewport height minus the header and nav.
     This creates a full-screen effect on mobile devices while leaving space
     for the persistent top and bottom bars. */
  min-height: calc(100vh - var(--header-height) - var(--nav-height));
  background-size: cover;
  background-position: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: #ffffff;
  text-align: center;
  /* Reserve space at the top and bottom for the fixed header and nav so the
     hero content doesn't hide behind them. */
  padding-top: var(--header-height);
  padding-bottom: var(--nav-height);
}

.hero::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.4);
}

.hero-content {
  position: relative;
  z-index: 1;
  /* Centre all items in the hero vertically and horizontally.  By using flex
     layout and aligning items to the centre, the logo, title, subtitle and
     button stack neatly and remain centred regardless of their widths. */
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}

.hero-buttons {
  margin-top: 1rem;
}

.hero-buttons button {
  margin: 0.5rem;
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: 24px;
  background: var(--primary-color);
  color: var(--secondary-color);
  font-size: 1rem;
  cursor: pointer;
  transition: opacity 0.2s ease;
}

.hero-buttons button:hover {
  opacity: 0.85;
}

/* The hero logo button displayed on the home page.  This image acts
   as a button to enter the guide.  Constrain its width on small
   screens while preserving aspect ratio. */
/* Legacy class for the hero logo button (no longer used).  Kept for
   backward compatibility with older cached pages. */
.hero-logo-button {
  display: none;
}

/* Container that creates a circular ring around the logo on the home page.
   The ring has a subtle border that echoes the original TouchStay style.
   The size of the ring adapts to the viewport using vw units so it
   remains proportional on different devices. */
.logo-ring {
  display: flex;
  justify-content: center;
  align-items: center;
  /* Create a coloured ring around the logo.  Use the primary colour (white)
     for the ring so it stands out against the hero image. */
  border: 4px solid var(--primary-color);
  border-radius: 50%;
  padding: 0.5rem;
  /* Responsive size: around one third of the viewport width on mobile */
  width: 40vw;
  height: 40vw;
  max-width: 220px;
  max-height: 220px;
  margin: 0 auto 0.5rem;
}

/* The logo image inside the ring.  Constrain its size and make it
   circular so it fits neatly within the ring. */
.hero-logo-img {
  width: 100%;
  height: auto;
  border-radius: 50%;
  display: block;
  /* Enhance the logo colours for better visibility over the hero background.  Increase
     brightness and saturation further to make the logo pop against the kitchen
     image, ensuring the sun, waves and palm leaf stand out more clearly. */
  filter: brightness(1.8) saturate(1.8);
}

/* Title displayed on the home hero.  Use the accent colour to
   complement the gold bar. */
.hero-title {
  margin: 0.5rem 0 0.25rem;
  font-size: 2rem;
  font-family: var(--header-font-stack);
  color: var(--accent-color);
  text-align: center;
}

/* Subtitle text under the title on the home hero.  Use a smaller font
   and ensure it wraps gracefully within the hero. */
.hero-subtitle {
  /* Center the subtitle horizontally within its container by using
     auto left/right margins.  This ensures the text sits directly
     beneath the logo. */
  margin: 0 auto 1rem;
  font-size: 1rem;
  line-height: 1.4;
  /* Give the subtitle more breathing room and ensure it centres properly by
     widening the allowable width and maintaining automatic margins. */
  max-width: 90%;
  color: var(--primary-color);
  text-align: center;
}

/* Call‑to‑action button for the home hero.  Styled similarly to other
   buttons in the guide but centered and slightly larger. */
.hero-cta {
  background: var(--accent-color);
  color: var(--primary-color);
  border: none;
  border-radius: 24px;
  padding: 0.75rem 2rem;
  font-size: 1rem;
  font-weight: bold;
  cursor: pointer;
  transition: opacity 0.2s ease;
}

.hero-cta:hover {
  opacity: 0.85;
}

/* Icon grid for the info page */
.icon-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
}

.icon-card {
  flex: 1 1 calc(50% - 1rem);
  /* Card backgrounds are white with a subtle border and shadow */
  background: var(--card-bg-color, #ffffff);
  color: var(--secondary-color);
  border: 1px solid rgba(0, 0, 0, 0.12);
  border-radius: 16px;
  padding: 1.5rem 1rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  cursor: pointer;
  /* Subtle shadow to lift the card off the background */
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.icon-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.icon-card i {
  font-size: 2.2rem;
  margin-bottom: 0.5rem;
  /* Use the accent colour for icons to reinforce the gold theme */
  color: var(--accent-color);
}

.icon-card span {
  font-size: 1rem;
  font-weight: 600;
}

/* Admin panel styles */
.admin-container {
  display: flex;
  flex-wrap: nowrap;
  min-height: 70vh;
}

.admin-sidebar {
  flex: 0 0 240px;
  border-right: 1px solid #ddd;
  overflow-y: auto;
  max-height: calc(100vh - 120px);
  padding: 0.5rem;
}

.admin-sidebar ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.admin-sidebar li {
  padding: 0.5rem 0.75rem;
  cursor: pointer;
  border-radius: 4px;
}

.admin-sidebar li:hover,
.admin-sidebar li.active {
  background: var(--primary-color);
  color: var(--secondary-color);
}

.admin-editor {
  flex: 1;
  padding: 1rem;
}

.admin-editor label {
  display: block;
  margin-top: 1rem;
  font-weight: bold;
}

.admin-editor input[type='text'],
.admin-editor textarea,
.admin-editor select {
  width: 100%;
  padding: 0.5rem;
  margin-top: 0.25rem;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: 1rem;
}

.admin-controls {
  margin-top: 1.5rem;
}

.admin-controls button {
  margin-right: 0.5rem;
}

header {
  /* Use a grid layout with three columns (left, centre and right) so that
     the centre item remains centred regardless of the width of the left
     and right sections.  This keeps the logo perfectly centred on
     non‑home pages. */
  display: grid;
  /* Use symmetric columns so the centre column (logo) stays centered between
     the left and right sections.  Both side columns take up equal space. */
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  /* Fix the header height to the value defined in --header-height.  This ensures
     the top bar appears thick on mobile devices and matches the bottom nav. */
  height: var(--header-height);
  padding: 0 1rem;
  background: var(--header-bg-color, var(--accent-color));
  /* Use primary colour for header text and icons so they contrast against the gold background */
  color: var(--primary-color);
}

/* On the home page the header becomes a single flex container.  The
   .home-header class is added by script.js when building the header on
   the home page.  All icons are centered in a row. */
header.home-header {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.75rem;
}

/* In the home header, ensure all icons and buttons inherit the primary colour */
header.home-header a,
header.home-header button,
header.home-header i {
  color: var(--primary-color) !important;
  text-decoration: none;
  font-size: 1.4rem;
}

/* Header sections for logo/title and contact actions */
.header-left {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  /* Align items to the start so the contact icons sit flush with the left edge. */
  justify-content: flex-start;

  /* Ensure the left container occupies the full width of its grid cell.
     Without this, the container may shrink to the size of its contents,
     causing the icons to appear too close to the centre logo. */
  width: 100%;
  justify-self: start;
}
/* Ensure contact links use the primary colour so they are white on the gold bar. */
.header-left a {
  color: var(--primary-color);
  text-decoration: none;
  font-size: 1.4rem;
}
.header-left .logo {
  /* Hide the logo icon in the header since the property name stands on its own */
  display: none;
}
.header-left span {
  font-weight: bold;
  /* Increase the title size to complement the larger header */
  font-size: 1.4rem;
  /* Use a more decorative font for the property name */
  font-family: var(--header-font-stack);
  /* Ensure the title uses the primary colour */
  color: var(--primary-color);
}
.header-right {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  /* Push QR and language icons to the right edge of the header. */
  justify-content: flex-end;

  /* Expand the right container to fill its grid cell and align to the end. */
  width: 100%;
  justify-self: end;
}

/* Header centre container holds the logo on non-home pages. It expands
   to occupy available space between left and right sections. */
.header-center {
  /* Centre content within its grid cell */
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Make sure all interactive elements in the header inherit the primary
   colour.  Without this, some icons (e.g. links) may fall back to the
   browser default (blue) on certain devices. */
header a,
header button,
header i {
  /* Force the colour of all header links, buttons and icons to the primary colour.
     On some devices the default link colour (blue) leaks through; adding
     !important ensures the white icons always render correctly on the gold bar. */
  color: var(--primary-color) !important;
  text-decoration: none;
}

/* Small logo displayed in the header on non-home pages */
.header-center .header-logo {
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  object-fit: contain;
}

/* Language selector wrapper. The select element is hidden by default and
   revealed when the user clicks the globe icon. */
.language-selector select {
  background: transparent;
  color: var(--primary-color);
  border: 1px solid var(--primary-color);
  border-radius: 4px;
  font-size: 0.9rem;
  margin-left: 0.25rem;
  padding: 0.1rem 0.3rem;
}
.language-selector i {
  color: var(--primary-color);
  font-size: 1.4rem;
  margin-left: 0.25rem;
}
.language-selector option {
  color: #000;
  background-color: #fff;
}
.header-right a {
  /* Contact icons in the header use the primary colour for contrast on the gold background. */
  color: var(--primary-color);
  text-decoration: none;
  /* Increase contact icon size */
  font-size: 1.4rem;
}
.header-right a:hover {
  opacity: 0.7;
}
.header-right button#qr-button {
  /* Style the QR button as a pill outline button.  It becomes filled on hover. */
  background: transparent;
  color: var(--primary-color);
  border: 1px solid var(--primary-color);
  /* Increase padding and radius to better fit the taller header */
  padding: 0.4rem 0.9rem;
  border-radius: 24px;
  font-size: 0.9rem;
  cursor: pointer;
}
.header-right button#qr-button:hover {
  background: var(--primary-color);
  color: var(--header-bg-color);
}

header h1 {
  margin: 0;
  font-size: 1.4rem;
}

/* Bottom navigation bar.  Position it fixed at the bottom and
   distribute items evenly.  The icons use the accent colour while
   labels use the primary colour. */
nav {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  display: flex;
  justify-content: space-around;
  background: var(--footer-bg-color, var(--secondary-color));
  /* Match the nav height to the variable.  This makes the bottom bar thicker
     and visually balanced with the top bar. */
  height: var(--nav-height);
  padding: 0;
  z-index: 100;
  box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1);
}
nav a {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: var(--primary-color);
  text-decoration: none;
  /* Increase font size for labels to improve legibility on a taller bar */
  font-size: 0.85rem;
}
nav a i {
  /* Increase icon size to balance with the thicker bar */
  font-size: 1.6rem;
  margin-bottom: 0.2rem;
  color: var(--accent-color);
}
nav a.active {
  color: var(--accent-color);
}

main {
  padding: 1rem;
  /* Provide space for the fixed bottom nav bar so content isn't hidden */
  /* Adjust bottom padding to ensure content doesn't overlap with the taller nav */
  padding-bottom: calc(var(--nav-height) + 1rem);
}

/* Gallery grid for House Tour */
.gallery-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 1rem;
}

.gallery-item img {
  width: 100%;
  height: auto;
  border-radius: 8px;
  object-fit: cover;
}

.category,
.subcategory {
  margin-bottom: 1.5rem;
}

.category h3 {
  margin: 0.5rem 0;
}

.subcategory h4 {
  margin: 0.3rem 0;
}

.list {
  list-style: none;
  padding-left: 1rem;
}

.list li {
  margin: 0.25rem 0;
}

/* Image Sorter modal styles */
.image-sorter-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.6);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}
.image-sorter {
  background-color: #fff;
  border-radius: 8px;
  padding: 1rem;
  max-height: 90vh;
  overflow-y: auto;
  width: 90%;
}
.image-sorter h2 {
  margin-top: 0;
}
.groups-container {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
}
.group {
  flex: 1 1 200px;
  border: 2px dashed var(--primary-color);
  border-radius: 4px;
  padding: 0.5rem;
  min-height: 200px;
  background-color: #f9f9f9;
}
.group-header {
  font-weight: bold;
  margin-bottom: 0.5rem;
}
.image-item {
  margin-bottom: 0.5rem;
  cursor: grab;
}
.image-item img {
  width: 100%;
  height: auto;
  border-radius: 4px;
}
.tile-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

a.item-link {
  color: var(--accent-color);
  cursor: pointer;
}

/* Modal for QR codes and admin forms */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.modal.hidden {
  display: none;
}

.modal-content {
  background: #ffffff;
  padding: 1rem;
  border-radius: 4px;
  max-width: 90%;
}

button {
  /* Use the accent colour for buttons so they stand out against the
     primarily white interface */
  background: var(--accent-color);
  color: var(--secondary-color);
  border: none;
  padding: 0.5rem 1rem;
  margin: 0.5rem 0;
  cursor: pointer;
  border-radius: 4px;
  font-size: 0.9rem;
}

button:hover {
  opacity: 0.9;
}

input[type="text"],
input[type="password"],
textarea {
  width: 100%;
  padding: 0.5rem;
  margin: 0.5rem 0;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: 1rem;
}

/* Simple responsive adjustments */
@media (max-width: 600px) {
  header h1 {
    flex-basis: 100%;
    margin-bottom: 0.5rem;
  }
  nav {
    flex-basis: 100%;
    justify-content: flex-start;
    margin-top: 0.5rem;
  }
}

/* === Local area subcategory and topic grids === */

/* Grid for subcategories within a category (e.g. local area) */
.subcategory-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
}

.subcategory-card {
  background-color: var(--card-bg-color, #ffffff);
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 12px;
  padding: 1rem;
  /* Center content and stack icon above the label */
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
}

.subcategory-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.subcategory-card i {
  font-size: 2rem;
  margin-bottom: 0.5rem;
  color: var(--accent-color);
}

/* Grid for topics within a subcategory */
.topic-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
}

.topic-card {
  background-color: var(--card-bg-color, #ffffff);
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 12px;
  padding: 1rem;
  text-align: left;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  display: flex;
  flex-direction: column;
}

/* Chevron on topic cards to indicate navigation */
.topic-card .fa-chevron-right {
  margin-left: auto;
  color: var(--accent-color);
  font-size: 1rem;
  align-self: center;
}

/* Back link used on detail pages */
.back-link {
  display: inline-block;
  margin-bottom: 1rem;
  color: var(--accent-color);
  text-decoration: none;
  font-weight: bold;
}
.back-link:hover {
  text-decoration: underline;
}

/* Gallery of images on detail pages */
.detail-gallery {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 0.75rem;
  margin-bottom: 1rem;
}
.detail-gallery img {
  width: 100%;
  height: auto;
  border-radius: 8px;
  object-fit: cover;
}

/* Button to view on map */
.btn-view-map {
  display: inline-block;
  margin-top: 1rem;
  padding: 0.5rem 1rem;
  background-color: var(--accent-color);
  color: var(--primary-color);
  border-radius: 4px;
  text-decoration: none;
  font-weight: bold;
}
.btn-view-map:hover {
  opacity: 0.9;
}

.topic-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.topic-card img {
  width: 100%;
  height: 120px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 0.5rem;
}

.topic-card h4 {
  margin: 0 0 0.5rem 0;
  font-size: 1.1rem;
}

.topic-card p {
  margin: 0;
  font-size: 0.9rem;
  color: #444;
  flex-grow: 1;
}